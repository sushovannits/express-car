{"version":3,"sources":["../../src/handlers/utils.js"],"names":["createResponse","handleMongooseError","res","statusCode","errorMsg","message","body","status","json","err","name","code"],"mappings":";;;;;;;;;;QAAgBA,c,GAAAA,c;QAUAC,mB,GAAAA,mB;;;;AAVT,SAASD,cAAT,CAAwBE,GAAxB,EAA6BC,UAA7B,EAAyCC,QAAzC,EAAmDC,OAAnD,EAA4DC,IAA5D,EAAkE;AACvE,SAAOJ,IACJK,MADI,CACGJ,UADH,EAEJK,IAFI,4BAGFJ,YAAY,EAACA,kBAAD,EAHV,EAIFC,WAAW,EAACA,gBAAD,EAJT,EAKFC,QAAQ,EAACA,UAAD,EALN,EAAP;AAOD;;AAEM,SAASL,mBAAT,CAA6BQ,GAA7B,EAAkC;AACvC,MAAIN,mBAAJ;AAAA,MAAgBC,iBAAhB;AACA,MAAIK,OAAOA,IAAIC,IAAJ,KAAa,iBAAxB,EAA0C;AACxCP,iBAAa,GAAb;AACAC,eAAWK,IAAIJ,OAAf;AACD,GAHD,MAGO,IAAII,IAAIC,IAAJ,KAAa,YAAb,IAA6BD,IAAIE,IAAJ,KAAa,KAA9C,EAAqD;AAC1DR,iBAAa,GAAb;AACAC,eAAWK,IAAIJ,OAAf,CAF0D,CAElC;AACzB;AACD,SAAO,EAACF,sBAAD,EAAaC,kBAAb,EAAP;AACD","file":"utils.js","sourcesContent":["export function createResponse(res, statusCode, errorMsg, message, body) {\n  return res\n    .status(statusCode)\n    .json({\n    ...errorMsg && {errorMsg},\n    ...message && {message},\n    ...body && {body}\n  });\n}\n\nexport function handleMongooseError(err) {\n  let statusCode, errorMsg;\n  if (err && err.name === 'ValidationError'){\n    statusCode = 400;\n    errorMsg = err.message;\n  } else if (err.name === 'MongoError' && err.code === 11000) {\n    statusCode = 400;\n    errorMsg = err.message; // TODO: Humanize the duplicate key error \n  }\n  return {statusCode, errorMsg};\n}"]}